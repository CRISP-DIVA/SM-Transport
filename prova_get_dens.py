# -*- coding: utf-8 -*-
"""
Created on Wed May 27 15:50:18 2020

@author: mique
"""

import json
import pandas as pd
import numpy as np
import sqlalchemy
from datetime import datetime
import pytz
from urllib.request import urlopen



def get_dens(request):
    x ='{"start_location":"(41.3797576, 2.1681576)","end_location":"(41.4223818, 2.1560661)","departure_time":{"hora":23,"minuts":59,"segos":0},"duration":38,"distance":10,"steps":[[[{"travel_mode":"WALKING","path":[{"latitud":"41.379760000000005","longitud":" 2.1681600000000003"},{"latitud":"41.37971","longitud":" 2.1680800000000002"},{"latitud":"41.37979","longitud":" 2.16801"},{"latitud":"41.38038","longitud":" 2.1673"},{"latitud":"41.380430000000004","longitud":" 2.16724"},{"latitud":"41.380500000000005","longitud":" 2.16716"},{"latitud":"41.380480000000006","longitud":" 2.16676"},{"latitud":"41.38046000000001","longitud":" 2.16638"},{"latitud":"41.38045","longitud":" 2.1661400000000004"},{"latitud":"41.380430000000004","longitud":" 2.1659100000000002"},{"latitud":"41.38042","longitud":" 2.1655800000000003"},{"latitud":"41.380410000000005","longitud":" 2.1655100000000003"},{"latitud":"41.380480000000006","longitud":" 2.1655"},{"latitud":"41.38047","longitud":" 2.16528"},{"latitud":"41.38042","longitud":" 2.16465"},{"latitud":"41.38042","longitud":" 2.1645000000000003"},{"latitud":"41.38042","longitud":" 2.16406"},{"latitud":"41.38042","longitud":" 2.1639600000000003"},{"latitud":"41.380410000000005","longitud":" 2.1638300000000004"},{"latitud":"41.380390000000006","longitud":" 2.16366"},{"latitud":"41.380390000000006","longitud":" 2.16346"},{"latitud":"41.380390000000006","longitud":" 2.16337"},{"latitud":"41.38038","longitud":" 2.16318"},{"latitud":"41.38051","longitud":" 2.1632100000000003"},{"latitud":"41.380590000000005","longitud":" 2.1632200000000004"},{"latitud":"41.380660000000006","longitud":" 2.16324"},{"latitud":"41.37993","longitud":" 2.16324"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.37993","longitud":" 2.16324"},{"latitud":"41.37993","longitud":" 2.16325"},{"latitud":"41.38477","longitud":" 2.16391"},{"latitud":"41.385540000000006","longitud":" 2.1640200000000003"},{"latitud":"41.385650000000005","longitud":" 2.16404"},{"latitud":"41.385830000000006","longitud":" 2.1640800000000002"},{"latitud":"41.386","longitud":" 2.1641500000000002"},{"latitud":"41.38617","longitud":" 2.1642300000000003"},{"latitud":"41.38633","longitud":" 2.16433"},{"latitud":"41.38649","longitud":" 2.16445"},{"latitud":"41.386590000000005","longitud":" 2.16454"},{"latitud":"41.38664","longitud":" 2.16459"},{"latitud":"41.38678","longitud":" 2.16474"},{"latitud":"41.38691","longitud":" 2.16489"},{"latitud":"41.38942","longitud":" 2.1682400000000004"},{"latitud":"41.38947","longitud":" 2.16831"},{"latitud":"41.394890000000004","longitud":" 2.1755600000000004"},{"latitud":"41.394940000000005","longitud":" 2.1756200000000003"},{"latitud":"41.39553","longitud":" 2.1764200000000002"},{"latitud":"41.39564","longitud":" 2.1765700000000003"},{"latitud":"41.39735","longitud":" 2.1789300000000003"},{"latitud":"41.39833","longitud":" 2.1802900000000003"},{"latitud":"41.39842","longitud":" 2.1804"},{"latitud":"41.39853","longitud":" 2.1805000000000003"},{"latitud":"41.398630000000004","longitud":" 2.18058"},{"latitud":"41.39875000000001","longitud":" 2.18065"},{"latitud":"41.39887","longitud":" 2.1807000000000003"},{"latitud":"41.398990000000005","longitud":" 2.18072"},{"latitud":"41.39912","longitud":" 2.18073"},{"latitud":"41.39925","longitud":" 2.18072"},{"latitud":"41.399370000000005","longitud":" 2.1806900000000002"},{"latitud":"41.39949","longitud":" 2.1806400000000004"},{"latitud":"41.39960000000001","longitud":" 2.1805700000000003"},{"latitud":"41.399710000000006","longitud":" 2.1804900000000003"},{"latitud":"41.39981","longitud":" 2.18039"},{"latitud":"41.399860000000004","longitud":" 2.18032"},{"latitud":"41.40052","longitud":" 2.17946"},{"latitud":"41.40057","longitud":" 2.1794000000000002"},{"latitud":"41.400960000000005","longitud":" 2.1789"},{"latitud":"41.40102","longitud":" 2.17882"},{"latitud":"41.40157000000001","longitud":" 2.17824"},{"latitud":"41.40164","longitud":" 2.17816"},{"latitud":"41.40167","longitud":" 2.1781200000000003"},{"latitud":"41.402100000000004","longitud":" 2.17756"},{"latitud":"41.403980000000004","longitud":" 2.17511"},{"latitud":"41.404430000000005","longitud":" 2.1745200000000002"},{"latitud":"41.40446","longitud":" 2.17457"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.40446","longitud":" 2.17457"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.40446","longitud":" 2.17457"},{"latitud":"41.404520000000005","longitud":" 2.17438"},{"latitud":"41.40455","longitud":" 2.1744000000000003"},{"latitud":"41.404630000000004","longitud":" 2.17443"},{"latitud":"41.40475","longitud":" 2.1744600000000003"},{"latitud":"41.404830000000004","longitud":" 2.1744700000000003"},{"latitud":"41.404900000000005","longitud":" 2.1744700000000003"},{"latitud":"41.406800000000004","longitud":" 2.17444"},{"latitud":"41.40708","longitud":" 2.17443"},{"latitud":"41.408820000000006","longitud":" 2.1743200000000003"},{"latitud":"41.40887","longitud":" 2.1743200000000003"},{"latitud":"41.408970000000004","longitud":" 2.1743200000000003"},{"latitud":"41.409040000000005","longitud":" 2.1743300000000003"},{"latitud":"41.409180000000006","longitud":" 2.17435"},{"latitud":"41.40932","longitud":" 2.1744000000000003"},{"latitud":"41.40945000000001","longitud":" 2.1744700000000003"},{"latitud":"41.409580000000005","longitud":" 2.17455"},{"latitud":"41.4097","longitud":" 2.17465"},{"latitud":"41.40977","longitud":" 2.17472"},{"latitud":"41.40984","longitud":" 2.1748000000000003"},{"latitud":"41.4099","longitud":" 2.1748800000000004"},{"latitud":"41.41075","longitud":" 2.1760200000000003"},{"latitud":"41.41114","longitud":" 2.17653"},{"latitud":"41.41147","longitud":" 2.17695"},{"latitud":"41.411860000000004","longitud":" 2.17743"},{"latitud":"41.414170000000006","longitud":" 2.18031"},{"latitud":"41.414390000000004","longitud":" 2.1806"},{"latitud":"41.41451","longitud":" 2.18075"},{"latitud":"41.415060000000004","longitud":" 2.1815"},{"latitud":"41.415060000000004","longitud":" 2.1815100000000003"},{"latitud":"41.41554","longitud":" 2.18215"},{"latitud":"41.41583000000001","longitud":" 2.1825400000000004"},{"latitud":"41.41761","longitud":" 2.18506"},{"latitud":"41.41776","longitud":" 2.18526"},{"latitud":"41.4179","longitud":" 2.1854500000000003"},{"latitud":"41.418110000000006","longitud":" 2.1857300000000004"},{"latitud":"41.41834","longitud":" 2.18604"},{"latitud":"41.418420000000005","longitud":" 2.18614"},{"latitud":"41.4185","longitud":" 2.18622"},{"latitud":"41.41861","longitud":" 2.1863200000000003"},{"latitud":"41.418730000000004","longitud":" 2.1864000000000003"},{"latitud":"41.41886","longitud":" 2.1864600000000003"},{"latitud":"41.41899","longitud":" 2.18651"},{"latitud":"41.41908","longitud":" 2.1865300000000003"},{"latitud":"41.419200000000004","longitud":" 2.18655"},{"latitud":"41.419340000000005","longitud":" 2.18656"},{"latitud":"41.42","longitud":" 2.18656"},{"latitud":"41.420210000000004","longitud":" 2.18657"},{"latitud":"41.420770000000005","longitud":" 2.18658"},{"latitud":"41.4213","longitud":" 2.18658"},{"latitud":"41.42139","longitud":" 2.18658"},{"latitud":"41.421890000000005","longitud":" 2.18658"},{"latitud":"41.42201","longitud":" 2.18657"},{"latitud":"41.42206","longitud":" 2.18656"},{"latitud":"41.422160000000005","longitud":" 2.1865300000000003"},{"latitud":"41.422290000000004","longitud":" 2.18648"},{"latitud":"41.4224","longitud":" 2.18642"},{"latitud":"41.42244","longitud":" 2.1864000000000003"},{"latitud":"41.42255","longitud":" 2.18631"},{"latitud":"41.422650000000004","longitud":" 2.18621"},{"latitud":"41.422740000000005","longitud":" 2.1861"},{"latitud":"41.42282","longitud":" 2.18597"},{"latitud":"41.42289","longitud":" 2.18583"},{"latitud":"41.422940000000004","longitud":" 2.18568"},{"latitud":"41.42298","longitud":" 2.1855200000000004"},{"latitud":"41.423","longitud":" 2.1854500000000003"},{"latitud":"41.42302","longitud":" 2.18534"},{"latitud":"41.42304","longitud":" 2.18514"},{"latitud":"41.42344000000001","longitud":" 2.18119"},{"latitud":"41.42372","longitud":" 2.17838"},{"latitud":"41.42374","longitud":" 2.1782700000000004"},{"latitud":"41.423770000000005","longitud":" 2.17808"},{"latitud":"41.423820000000006","longitud":" 2.1779200000000003"},{"latitud":"41.423860000000005","longitud":" 2.1777900000000003"},{"latitud":"41.42392","longitud":" 2.1776600000000004"},{"latitud":"41.42400000000001","longitud":" 2.1775"},{"latitud":"41.4241","longitud":" 2.17736"},{"latitud":"41.42421","longitud":" 2.17722"},{"latitud":"41.424330000000005","longitud":" 2.1771000000000003"},{"latitud":"41.42456000000001","longitud":" 2.17688"},{"latitud":"41.42479","longitud":" 2.17667"},{"latitud":"41.42484","longitud":" 2.1766400000000004"},{"latitud":"41.424910000000004","longitud":" 2.1765700000000003"},{"latitud":"41.425050000000006","longitud":" 2.1764900000000003"},{"latitud":"41.425070000000005","longitud":" 2.17647"},{"latitud":"41.42524","longitud":" 2.17638"},{"latitud":"41.42541000000001","longitud":" 2.17631"},{"latitud":"41.42643","longitud":" 2.1759600000000003"},{"latitud":"41.42732","longitud":" 2.17565"},{"latitud":"41.42741","longitud":" 2.1756200000000003"},{"latitud":"41.427510000000005","longitud":" 2.17559"},{"latitud":"41.42761","longitud":" 2.1755600000000004"},{"latitud":"41.42779","longitud":" 2.17553"},{"latitud":"41.42781","longitud":" 2.17553"},{"latitud":"41.42794000000001","longitud":" 2.17551"},{"latitud":"41.42846","longitud":" 2.1754800000000003"},{"latitud":"41.42855","longitud":" 2.1754700000000002"},{"latitud":"41.42868","longitud":" 2.17545"},{"latitud":"41.42877","longitud":" 2.17543"},{"latitud":"41.42895","longitud":" 2.17538"},{"latitud":"41.429120000000005","longitud":" 2.17531"},{"latitud":"41.42929","longitud":" 2.1752200000000004"},{"latitud":"41.42945","longitud":" 2.17512"},{"latitud":"41.429610000000004","longitud":" 2.1750000000000003"},{"latitud":"41.429700000000004","longitud":" 2.17491"},{"latitud":"41.42976","longitud":" 2.1748600000000002"},{"latitud":"41.42989","longitud":" 2.17471"},{"latitud":"41.42996","longitud":" 2.17462"},{"latitud":"41.430060000000005","longitud":" 2.17449"},{"latitud":"41.43012","longitud":" 2.1744000000000003"},{"latitud":"41.43016","longitud":" 2.1743400000000004"},{"latitud":"41.430220000000006","longitud":" 2.1742000000000004"},{"latitud":"41.43028","longitud":" 2.1740500000000003"},{"latitud":"41.43032","longitud":" 2.17389"},{"latitud":"41.43034","longitud":" 2.1738000000000004"},{"latitud":"41.430350000000004","longitud":" 2.17374"},{"latitud":"41.43037","longitud":" 2.17354"},{"latitud":"41.43037","longitud":" 2.17341"},{"latitud":"41.43047000000001","longitud":" 2.1676200000000003"},{"latitud":"41.4305","longitud":" 2.1656400000000002"},{"latitud":"41.4305","longitud":" 2.1656"},{"latitud":"41.430510000000005","longitud":" 2.1654"},{"latitud":"41.430510000000005","longitud":" 2.16535"},{"latitud":"41.43054","longitud":" 2.16514"},{"latitud":"41.430580000000006","longitud":" 2.16496"},{"latitud":"41.430690000000006","longitud":" 2.16447"},{"latitud":"41.430710000000005","longitud":" 2.1643600000000003"},{"latitud":"41.430730000000004","longitud":" 2.16418"},{"latitud":"41.43074","longitud":" 2.16405"},{"latitud":"41.430730000000004","longitud":" 2.16391"},{"latitud":"41.43072","longitud":" 2.1637500000000003"},{"latitud":"41.430690000000006","longitud":" 2.16359"},{"latitud":"41.430640000000004","longitud":" 2.16343"},{"latitud":"41.43059","longitud":" 2.1632800000000003"},{"latitud":"41.43052","longitud":" 2.1631400000000003"},{"latitud":"41.43045","longitud":" 2.16304"},{"latitud":"41.43041","longitud":" 2.16298"},{"latitud":"41.43037","longitud":" 2.16292"},{"latitud":"41.430060000000005","longitud":" 2.1625400000000004"},{"latitud":"41.429970000000004","longitud":" 2.16242"},{"latitud":"41.42991000000001","longitud":" 2.1623300000000003"},{"latitud":"41.429840000000006","longitud":" 2.16221"},{"latitud":"41.429770000000005","longitud":" 2.1620600000000003"},{"latitud":"41.42971","longitud":" 2.16189"},{"latitud":"41.42969","longitud":" 2.1618000000000004"},{"latitud":"41.429660000000005","longitud":" 2.1616600000000004"},{"latitud":"41.42963","longitud":" 2.1615100000000003"},{"latitud":"41.42962","longitud":" 2.1613800000000003"},{"latitud":"41.429610000000004","longitud":" 2.1611700000000003"},{"latitud":"41.42962","longitud":" 2.16096"},{"latitud":"41.42969","longitud":" 2.1599700000000004"},{"latitud":"41.42971","longitud":" 2.15974"},{"latitud":"41.42971","longitud":" 2.15953"},{"latitud":"41.42969","longitud":" 2.15931"},{"latitud":"41.42967","longitud":" 2.15916"},{"latitud":"41.42965","longitud":" 2.15905"},{"latitud":"41.42962","longitud":" 2.1589"},{"latitud":"41.4296","longitud":" 2.15882"},{"latitud":"41.42958","longitud":" 2.1587"},{"latitud":"41.42953000000001","longitud":" 2.1585400000000003"},{"latitud":"41.42942","longitud":" 2.1581900000000003"},{"latitud":"41.42916","longitud":" 2.1574400000000002"},{"latitud":"41.42887","longitud":" 2.1566"},{"latitud":"41.42877","longitud":" 2.15633"},{"latitud":"41.42871","longitud":" 2.1562"},{"latitud":"41.4286","longitud":" 2.1559600000000003"},{"latitud":"41.428520000000006","longitud":" 2.1558100000000002"},{"latitud":"41.42842","longitud":" 2.15567"},{"latitud":"41.42833","longitud":" 2.1555500000000003"},{"latitud":"41.428230000000006","longitud":" 2.15545"},{"latitud":"41.42813","longitud":" 2.1553400000000003"},{"latitud":"41.428020000000004","longitud":" 2.15525"},{"latitud":"41.42788","longitud":" 2.15516"},{"latitud":"41.42775","longitud":" 2.1550900000000004"},{"latitud":"41.427620000000005","longitud":" 2.15503"},{"latitud":"41.42748","longitud":" 2.15499"},{"latitud":"41.427350000000004","longitud":" 2.15496"},{"latitud":"41.427200000000006","longitud":" 2.1549400000000003"},{"latitud":"41.427040000000005","longitud":" 2.1549300000000002"},{"latitud":"41.426880000000004","longitud":" 2.1549400000000003"},{"latitud":"41.426770000000005","longitud":" 2.1549400000000003"},{"latitud":"41.42445","longitud":" 2.1551"},{"latitud":"41.423930000000006","longitud":" 2.15513"},{"latitud":"41.423790000000004","longitud":" 2.1551400000000003"},{"latitud":"41.423640000000006","longitud":" 2.1551400000000003"},{"latitud":"41.42353000000001","longitud":" 2.15513"},{"latitud":"41.42351","longitud":" 2.15513"},{"latitud":"41.423550000000006","longitud":" 2.1547300000000003"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.423550000000006","longitud":" 2.1547300000000003"},{"latitud":"41.42365","longitud":" 2.1550100000000003"},{"latitud":"41.423680000000004","longitud":" 2.15498"},{"latitud":"41.423790000000004","longitud":" 2.15517"},{"latitud":"41.42306000000001","longitud":" 2.1558200000000003"},{"latitud":"41.423","longitud":" 2.15587"},{"latitud":"41.422880000000006","longitud":" 2.15598"},{"latitud":"41.42257","longitud":" 2.15628"},{"latitud":"41.42251","longitud":" 2.15633"},{"latitud":"41.422470000000004","longitud":" 2.15625"},{"latitud":"41.422380000000004","longitud":" 2.15607"}]}]],[[{"travel_mode":"WALKING","path":[{"latitud":"41.379690000000004","longitud":" 2.1682"},{"latitud":"41.37970000000001","longitud":" 2.16821"},{"latitud":"41.37970000000001","longitud":" 2.1682200000000003"},{"latitud":"41.37970000000001","longitud":" 2.1682300000000003"},{"latitud":"41.37971","longitud":" 2.1682400000000004"},{"latitud":"41.37971","longitud":" 2.16825"},{"latitud":"41.37971","longitud":" 2.16826"},{"latitud":"41.37971","longitud":" 2.16827"},{"latitud":"41.37971","longitud":" 2.16832"},{"latitud":"41.379780000000004","longitud":" 2.16834"},{"latitud":"41.379810000000006","longitud":" 2.16838"},{"latitud":"41.37982","longitud":" 2.1684200000000002"},{"latitud":"41.37997","longitud":" 2.16886"},{"latitud":"41.38004","longitud":" 2.16913"},{"latitud":"41.38007","longitud":" 2.16923"},{"latitud":"41.380210000000005","longitud":" 2.1697100000000002"},{"latitud":"41.38033","longitud":" 2.1701900000000003"},{"latitud":"41.38036","longitud":" 2.1702600000000003"},{"latitud":"41.38045","longitud":" 2.1704600000000003"},{"latitud":"41.38055000000001","longitud":" 2.1708100000000004"},{"latitud":"41.38058","longitud":" 2.17091"},{"latitud":"41.3806","longitud":" 2.17104"},{"latitud":"41.38073000000001","longitud":" 2.17146"},{"latitud":"41.380810000000004","longitud":" 2.17177"},{"latitud":"41.38083","longitud":" 2.17186"},{"latitud":"41.380840000000006","longitud":" 2.17198"},{"latitud":"41.38085","longitud":" 2.17204"},{"latitud":"41.38087","longitud":" 2.17219"},{"latitud":"41.380900000000004","longitud":" 2.1723000000000003"},{"latitud":"41.380950000000006","longitud":" 2.17247"},{"latitud":"41.381040000000006","longitud":" 2.1726900000000002"},{"latitud":"41.38111000000001","longitud":" 2.17288"},{"latitud":"41.38112","longitud":" 2.1729000000000003"},{"latitud":"41.38118","longitud":" 2.1730400000000003"},{"latitud":"41.381220000000006","longitud":" 2.1731200000000004"},{"latitud":"41.38101","longitud":" 2.17329"},{"latitud":"41.38094","longitud":" 2.17336"},{"latitud":"41.380860000000006","longitud":" 2.17343"},{"latitud":"41.380860000000006","longitud":" 2.1734400000000003"},{"latitud":"41.381150000000005","longitud":" 2.17326"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.381150000000005","longitud":" 2.17326"},{"latitud":"41.38116","longitud":" 2.17328"},{"latitud":"41.38145","longitud":" 2.1730300000000002"},{"latitud":"41.38264","longitud":" 2.172"},{"latitud":"41.38277","longitud":" 2.1718900000000003"},{"latitud":"41.38297","longitud":" 2.1717400000000002"},{"latitud":"41.38309","longitud":" 2.17167"},{"latitud":"41.385020000000004","longitud":" 2.1703900000000003"},{"latitud":"41.3851","longitud":" 2.1703400000000004"},{"latitud":"41.38521","longitud":" 2.1702700000000004"},{"latitud":"41.385360000000006","longitud":" 2.17021"},{"latitud":"41.38552000000001","longitud":" 2.17016"},{"latitud":"41.385600000000004","longitud":" 2.17014"},{"latitud":"41.38571","longitud":" 2.1701200000000003"},{"latitud":"41.385850000000005","longitud":" 2.17011"},{"latitud":"41.386320000000005","longitud":" 2.17009"},{"latitud":"41.38702000000001","longitud":" 2.1700700000000004"},{"latitud":"41.387170000000005","longitud":" 2.1700500000000003"},{"latitud":"41.387330000000006","longitud":" 2.17002"},{"latitud":"41.38749000000001","longitud":" 2.16997"},{"latitud":"41.387570000000004","longitud":" 2.16994"},{"latitud":"41.38759","longitud":" 2.1699300000000004"},{"latitud":"41.38774","longitud":" 2.1698600000000003"},{"latitud":"41.38787000000001","longitud":" 2.1697800000000003"},{"latitud":"41.387950000000004","longitud":" 2.1697200000000003"},{"latitud":"41.388110000000005","longitud":" 2.1696"},{"latitud":"41.388180000000006","longitud":" 2.16953"},{"latitud":"41.38826","longitud":" 2.1694500000000003"},{"latitud":"41.388400000000004","longitud":" 2.1693000000000002"},{"latitud":"41.38843000000001","longitud":" 2.16927"},{"latitud":"41.389700000000005","longitud":" 2.1677"},{"latitud":"41.39025","longitud":" 2.1670200000000004"},{"latitud":"41.391560000000005","longitud":" 2.1653900000000004"},{"latitud":"41.391600000000004","longitud":" 2.16535"},{"latitud":"41.391940000000005","longitud":" 2.16493"},{"latitud":"41.39206","longitud":" 2.16479"},{"latitud":"41.39219000000001","longitud":" 2.1646300000000003"},{"latitud":"41.393170000000005","longitud":" 2.1634100000000003"},{"latitud":"41.395360000000004","longitud":" 2.16069"},{"latitud":"41.39571","longitud":" 2.16026"},{"latitud":"41.39589","longitud":" 2.16005"},{"latitud":"41.3962","longitud":" 2.15966"},{"latitud":"41.39753","longitud":" 2.15801"},{"latitud":"41.39779","longitud":" 2.1577100000000002"},{"latitud":"41.39788","longitud":" 2.1576"},{"latitud":"41.39802","longitud":" 2.1574600000000004"},{"latitud":"41.3984","longitud":" 2.1571100000000003"},{"latitud":"41.39849","longitud":" 2.15702"},{"latitud":"41.39867","longitud":" 2.1568300000000002"},{"latitud":"41.400110000000005","longitud":" 2.15513"},{"latitud":"41.401500000000006","longitud":" 2.1535"},{"latitud":"41.40162","longitud":" 2.1533700000000002"},{"latitud":"41.40176","longitud":" 2.15323"},{"latitud":"41.402010000000004","longitud":" 2.15302"},{"latitud":"41.402280000000005","longitud":" 2.1528"},{"latitud":"41.40236","longitud":" 2.15274"},{"latitud":"41.402530000000006","longitud":" 2.15262"},{"latitud":"41.40258","longitud":" 2.15259"},{"latitud":"41.402710000000006","longitud":" 2.1525100000000004"},{"latitud":"41.402820000000006","longitud":" 2.15246"},{"latitud":"41.40363000000001","longitud":" 2.1520900000000003"},{"latitud":"41.40382","longitud":" 2.152"},{"latitud":"41.403960000000005","longitud":" 2.15191"},{"latitud":"41.40404","longitud":" 2.15185"},{"latitud":"41.40415","longitud":" 2.15178"},{"latitud":"41.405030000000004","longitud":" 2.15105"},{"latitud":"41.405120000000004","longitud":" 2.15098"},{"latitud":"41.40522","longitud":" 2.15089"},{"latitud":"41.40574","longitud":" 2.1504100000000004"},{"latitud":"41.406130000000005","longitud":" 2.15004"},{"latitud":"41.40617","longitud":" 2.15001"},{"latitud":"41.406220000000005","longitud":" 2.14997"},{"latitud":"41.40635","longitud":" 2.1498700000000004"},{"latitud":"41.406490000000005","longitud":" 2.1498000000000004"},{"latitud":"41.406560000000006","longitud":" 2.14977"},{"latitud":"41.406620000000004","longitud":" 2.14974"},{"latitud":"41.406760000000006","longitud":" 2.1497"},{"latitud":"41.40731","longitud":" 2.14955"},{"latitud":"41.40746","longitud":" 2.1495"},{"latitud":"41.407540000000004","longitud":" 2.14948"},{"latitud":"41.40776","longitud":" 2.1493900000000004"},{"latitud":"41.407970000000006","longitud":" 2.14928"},{"latitud":"41.40818","longitud":" 2.14916"},{"latitud":"41.40838","longitud":" 2.14901"},{"latitud":"41.40858","longitud":" 2.1488500000000004"},{"latitud":"41.40876","longitud":" 2.14869"},{"latitud":"41.408910000000006","longitud":" 2.14853"},{"latitud":"41.40968","longitud":" 2.1476900000000003"},{"latitud":"41.409800000000004","longitud":" 2.1475600000000004"},{"latitud":"41.4101","longitud":" 2.1472100000000003"},{"latitud":"41.41038","longitud":" 2.14685"},{"latitud":"41.410560000000004","longitud":" 2.1466100000000004"},{"latitud":"41.41071","longitud":" 2.14642"},{"latitud":"41.411030000000004","longitud":" 2.14601"},{"latitud":"41.411210000000004","longitud":" 2.1457800000000002"},{"latitud":"41.411410000000004","longitud":" 2.1455100000000003"},{"latitud":"41.41154","longitud":" 2.14529"},{"latitud":"41.411590000000004","longitud":" 2.14522"},{"latitud":"41.41165","longitud":" 2.1451100000000003"},{"latitud":"41.4117","longitud":" 2.14501"},{"latitud":"41.411750000000005","longitud":" 2.1449100000000003"},{"latitud":"41.411770000000004","longitud":" 2.14486"},{"latitud":"41.41180000000001","longitud":" 2.1447800000000004"},{"latitud":"41.41198000000001","longitud":" 2.14434"},{"latitud":"41.412180000000006","longitud":" 2.1438"},{"latitud":"41.41226","longitud":" 2.1436200000000003"},{"latitud":"41.4123","longitud":" 2.1435400000000002"},{"latitud":"41.41234","longitud":" 2.14347"},{"latitud":"41.41243","longitud":" 2.1433400000000002"},{"latitud":"41.41252","longitud":" 2.1432200000000003"},{"latitud":"41.41263","longitud":" 2.14312"},{"latitud":"41.41274000000001","longitud":" 2.14304"},{"latitud":"41.41286","longitud":" 2.14297"},{"latitud":"41.41299","longitud":" 2.14292"},{"latitud":"41.413120000000006","longitud":" 2.14289"},{"latitud":"41.413250000000005","longitud":" 2.1428800000000003"},{"latitud":"41.41333","longitud":" 2.1428800000000003"},{"latitud":"41.413430000000005","longitud":" 2.1428800000000003"},{"latitud":"41.413990000000005","longitud":" 2.14298"},{"latitud":"41.41407","longitud":" 2.14299"},{"latitud":"41.41423","longitud":" 2.1430000000000002"},{"latitud":"41.414260000000006","longitud":" 2.1430000000000002"},{"latitud":"41.4144","longitud":" 2.14298"},{"latitud":"41.41454","longitud":" 2.1429500000000004"},{"latitud":"41.41467","longitud":" 2.1429"},{"latitud":"41.41478","longitud":" 2.14285"},{"latitud":"41.41485","longitud":" 2.1428100000000003"},{"latitud":"41.414910000000006","longitud":" 2.14277"},{"latitud":"41.41537","longitud":" 2.14245"},{"latitud":"41.41564","longitud":" 2.14228"},{"latitud":"41.41713","longitud":" 2.1413"},{"latitud":"41.4172","longitud":" 2.1412600000000004"},{"latitud":"41.41731","longitud":" 2.1412"},{"latitud":"41.4174","longitud":" 2.14116"},{"latitud":"41.417460000000005","longitud":" 2.14113"},{"latitud":"41.41762000000001","longitud":" 2.14108"},{"latitud":"41.417680000000004","longitud":" 2.14107"},{"latitud":"41.417790000000004","longitud":" 2.1410500000000003"},{"latitud":"41.41828","longitud":" 2.1409700000000003"},{"latitud":"41.42042","longitud":" 2.1406500000000004"},{"latitud":"41.42061","longitud":" 2.1406400000000003"},{"latitud":"41.420750000000005","longitud":" 2.1406300000000003"},{"latitud":"41.42099","longitud":" 2.1406400000000003"},{"latitud":"41.42123","longitud":" 2.14067"},{"latitud":"41.42146","longitud":" 2.1407100000000003"},{"latitud":"41.4217","longitud":" 2.1407700000000003"},{"latitud":"41.421890000000005","longitud":" 2.1408400000000003"},{"latitud":"41.422050000000006","longitud":" 2.1409000000000002"},{"latitud":"41.42231","longitud":" 2.14103"},{"latitud":"41.422560000000004","longitud":" 2.14116"},{"latitud":"41.423140000000004","longitud":" 2.1415200000000003"},{"latitud":"41.42329","longitud":" 2.14161"},{"latitud":"41.423610000000004","longitud":" 2.1417800000000002"},{"latitud":"41.423860000000005","longitud":" 2.14191"},{"latitud":"41.42528","longitud":" 2.14256"},{"latitud":"41.42537","longitud":" 2.1426100000000003"},{"latitud":"41.425380000000004","longitud":" 2.14256"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.425380000000004","longitud":" 2.14256"},{"latitud":"41.42499","longitud":" 2.14235"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.42499","longitud":" 2.14235"},{"latitud":"41.42499","longitud":" 2.14236"},{"latitud":"41.424820000000004","longitud":" 2.14299"},{"latitud":"41.42459","longitud":" 2.14386"},{"latitud":"41.424510000000005","longitud":" 2.1441700000000004"},{"latitud":"41.42445","longitud":" 2.14439"},{"latitud":"41.424400000000006","longitud":" 2.14452"},{"latitud":"41.42436","longitud":" 2.1446400000000003"},{"latitud":"41.424310000000006","longitud":" 2.14476"},{"latitud":"41.424220000000005","longitud":" 2.14493"},{"latitud":"41.42414","longitud":" 2.14509"},{"latitud":"41.42405","longitud":" 2.14523"},{"latitud":"41.423950000000005","longitud":" 2.14536"},{"latitud":"41.42385","longitud":" 2.14548"},{"latitud":"41.423610000000004","longitud":" 2.1457300000000004"},{"latitud":"41.42334","longitud":" 2.14597"},{"latitud":"41.42315000000001","longitud":" 2.14615"},{"latitud":"41.423","longitud":" 2.14631"},{"latitud":"41.422880000000006","longitud":" 2.14644"},{"latitud":"41.422760000000004","longitud":" 2.14658"},{"latitud":"41.422650000000004","longitud":" 2.1467400000000003"},{"latitud":"41.42255","longitud":" 2.14691"},{"latitud":"41.42249","longitud":" 2.14705"},{"latitud":"41.42242","longitud":" 2.14719"},{"latitud":"41.42237","longitud":" 2.14733"},{"latitud":"41.422340000000005","longitud":" 2.1474200000000003"},{"latitud":"41.422000000000004","longitud":" 2.14835"},{"latitud":"41.42148","longitud":" 2.14975"},{"latitud":"41.42132","longitud":" 2.1502000000000003"},{"latitud":"41.42128","longitud":" 2.1503400000000004"},{"latitud":"41.42123","longitud":" 2.1504800000000004"},{"latitud":"41.42118000000001","longitud":" 2.1506700000000003"},{"latitud":"41.421150000000004","longitud":" 2.1508700000000003"},{"latitud":"41.42112","longitud":" 2.1510700000000003"},{"latitud":"41.42109000000001","longitud":" 2.1512800000000003"},{"latitud":"41.42108","longitud":" 2.1514900000000003"},{"latitud":"41.42108","longitud":" 2.15172"},{"latitud":"41.42109000000001","longitud":" 2.1519500000000003"},{"latitud":"41.4211","longitud":" 2.15218"},{"latitud":"41.421130000000005","longitud":" 2.15241"},{"latitud":"41.42118000000001","longitud":" 2.1526400000000003"},{"latitud":"41.42123","longitud":" 2.1528500000000004"},{"latitud":"41.421290000000006","longitud":" 2.1530500000000004"},{"latitud":"41.42136","longitud":" 2.1532400000000003"},{"latitud":"41.421440000000004","longitud":" 2.15343"},{"latitud":"41.42152","longitud":" 2.15361"},{"latitud":"41.421600000000005","longitud":" 2.15376"},{"latitud":"41.4217","longitud":" 2.15391"},{"latitud":"41.42179","longitud":" 2.1540600000000003"},{"latitud":"41.421910000000004","longitud":" 2.15422"},{"latitud":"41.42204","longitud":" 2.15437"},{"latitud":"41.42219","longitud":" 2.15452"},{"latitud":"41.42235","longitud":" 2.15465"},{"latitud":"41.422520000000006","longitud":" 2.15477"},{"latitud":"41.42268000000001","longitud":" 2.1548700000000003"},{"latitud":"41.42286","longitud":" 2.15496"},{"latitud":"41.422990000000006","longitud":" 2.1550100000000003"},{"latitud":"41.423120000000004","longitud":" 2.15506"},{"latitud":"41.42325","longitud":" 2.1550900000000004"},{"latitud":"41.42338","longitud":" 2.15512"},{"latitud":"41.42351","longitud":" 2.15513"},{"latitud":"41.42353000000001","longitud":" 2.15513"},{"latitud":"41.423550000000006","longitud":" 2.1547300000000003"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.423550000000006","longitud":" 2.1547300000000003"},{"latitud":"41.42365","longitud":" 2.1550100000000003"},{"latitud":"41.423680000000004","longitud":" 2.15498"},{"latitud":"41.423790000000004","longitud":" 2.15517"},{"latitud":"41.42306000000001","longitud":" 2.1558200000000003"},{"latitud":"41.423","longitud":" 2.15587"},{"latitud":"41.422880000000006","longitud":" 2.15598"},{"latitud":"41.42257","longitud":" 2.15628"},{"latitud":"41.42251","longitud":" 2.15633"},{"latitud":"41.422470000000004","longitud":" 2.15625"},{"latitud":"41.422380000000004","longitud":" 2.15607"}]}]],[[{"travel_mode":"WALKING","path":[{"latitud":"41.379690000000004","longitud":" 2.1682"},{"latitud":"41.37970000000001","longitud":" 2.16821"},{"latitud":"41.37970000000001","longitud":" 2.1682200000000003"},{"latitud":"41.37970000000001","longitud":" 2.1682300000000003"},{"latitud":"41.37971","longitud":" 2.1682400000000004"},{"latitud":"41.37971","longitud":" 2.16825"},{"latitud":"41.37971","longitud":" 2.16826"},{"latitud":"41.37971","longitud":" 2.16827"},{"latitud":"41.37971","longitud":" 2.16832"},{"latitud":"41.379780000000004","longitud":" 2.16834"},{"latitud":"41.379810000000006","longitud":" 2.16838"},{"latitud":"41.37982","longitud":" 2.1684200000000002"},{"latitud":"41.37997","longitud":" 2.16886"},{"latitud":"41.38004","longitud":" 2.16913"},{"latitud":"41.38007","longitud":" 2.16923"},{"latitud":"41.380210000000005","longitud":" 2.1697100000000002"},{"latitud":"41.38033","longitud":" 2.1701900000000003"},{"latitud":"41.38036","longitud":" 2.1702600000000003"},{"latitud":"41.38045","longitud":" 2.1704600000000003"},{"latitud":"41.38055000000001","longitud":" 2.1708100000000004"},{"latitud":"41.38058","longitud":" 2.17091"},{"latitud":"41.3806","longitud":" 2.17104"},{"latitud":"41.38073000000001","longitud":" 2.17146"},{"latitud":"41.380810000000004","longitud":" 2.17177"},{"latitud":"41.38083","longitud":" 2.17186"},{"latitud":"41.380840000000006","longitud":" 2.17198"},{"latitud":"41.38085","longitud":" 2.17204"},{"latitud":"41.38087","longitud":" 2.17219"},{"latitud":"41.380900000000004","longitud":" 2.1723000000000003"},{"latitud":"41.380950000000006","longitud":" 2.17247"},{"latitud":"41.381040000000006","longitud":" 2.1726900000000002"},{"latitud":"41.38111000000001","longitud":" 2.17288"},{"latitud":"41.38112","longitud":" 2.1729000000000003"},{"latitud":"41.38118","longitud":" 2.1730400000000003"},{"latitud":"41.381220000000006","longitud":" 2.1731200000000004"},{"latitud":"41.38101","longitud":" 2.17329"},{"latitud":"41.38094","longitud":" 2.17336"},{"latitud":"41.380860000000006","longitud":" 2.17343"},{"latitud":"41.380860000000006","longitud":" 2.1734400000000003"},{"latitud":"41.381150000000005","longitud":" 2.17326"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.381150000000005","longitud":" 2.17326"},{"latitud":"41.38116","longitud":" 2.17328"},{"latitud":"41.38145","longitud":" 2.1730300000000002"},{"latitud":"41.38264","longitud":" 2.172"},{"latitud":"41.38277","longitud":" 2.1718900000000003"},{"latitud":"41.38297","longitud":" 2.1717400000000002"},{"latitud":"41.38309","longitud":" 2.17167"},{"latitud":"41.385020000000004","longitud":" 2.1703900000000003"},{"latitud":"41.3851","longitud":" 2.1703400000000004"},{"latitud":"41.38521","longitud":" 2.1702700000000004"},{"latitud":"41.385360000000006","longitud":" 2.17021"},{"latitud":"41.38552000000001","longitud":" 2.17016"},{"latitud":"41.385600000000004","longitud":" 2.17014"},{"latitud":"41.38571","longitud":" 2.1701200000000003"},{"latitud":"41.385850000000005","longitud":" 2.17011"},{"latitud":"41.386320000000005","longitud":" 2.17009"},{"latitud":"41.38702000000001","longitud":" 2.1700700000000004"},{"latitud":"41.387170000000005","longitud":" 2.1700500000000003"},{"latitud":"41.387330000000006","longitud":" 2.17002"},{"latitud":"41.38749000000001","longitud":" 2.16997"},{"latitud":"41.387570000000004","longitud":" 2.16994"},{"latitud":"41.38759","longitud":" 2.1699300000000004"},{"latitud":"41.38774","longitud":" 2.1698600000000003"},{"latitud":"41.38787000000001","longitud":" 2.1697800000000003"},{"latitud":"41.387950000000004","longitud":" 2.1697200000000003"},{"latitud":"41.388110000000005","longitud":" 2.1696"},{"latitud":"41.388180000000006","longitud":" 2.16953"},{"latitud":"41.38826","longitud":" 2.1694500000000003"},{"latitud":"41.388400000000004","longitud":" 2.1693000000000002"},{"latitud":"41.38843000000001","longitud":" 2.16927"},{"latitud":"41.389700000000005","longitud":" 2.1677"},{"latitud":"41.39025","longitud":" 2.1670200000000004"},{"latitud":"41.391560000000005","longitud":" 2.1653900000000004"},{"latitud":"41.391600000000004","longitud":" 2.16535"},{"latitud":"41.391940000000005","longitud":" 2.16493"},{"latitud":"41.39206","longitud":" 2.16479"},{"latitud":"41.39219000000001","longitud":" 2.1646300000000003"},{"latitud":"41.393170000000005","longitud":" 2.1634100000000003"},{"latitud":"41.395360000000004","longitud":" 2.16069"},{"latitud":"41.39571","longitud":" 2.16026"},{"latitud":"41.39589","longitud":" 2.16005"},{"latitud":"41.3962","longitud":" 2.15966"},{"latitud":"41.39753","longitud":" 2.15801"},{"latitud":"41.39779","longitud":" 2.1577100000000002"},{"latitud":"41.39788","longitud":" 2.1576"},{"latitud":"41.39802","longitud":" 2.1574600000000004"},{"latitud":"41.3984","longitud":" 2.1571100000000003"},{"latitud":"41.39849","longitud":" 2.15702"},{"latitud":"41.39867","longitud":" 2.1568300000000002"},{"latitud":"41.400110000000005","longitud":" 2.15513"},{"latitud":"41.401500000000006","longitud":" 2.1535"},{"latitud":"41.40162","longitud":" 2.1533700000000002"},{"latitud":"41.40176","longitud":" 2.15323"},{"latitud":"41.402010000000004","longitud":" 2.15302"},{"latitud":"41.402280000000005","longitud":" 2.1528"},{"latitud":"41.40236","longitud":" 2.15274"},{"latitud":"41.402530000000006","longitud":" 2.15262"},{"latitud":"41.40258","longitud":" 2.15259"},{"latitud":"41.402710000000006","longitud":" 2.1525100000000004"},{"latitud":"41.402820000000006","longitud":" 2.15246"},{"latitud":"41.40363000000001","longitud":" 2.1520900000000003"},{"latitud":"41.40382","longitud":" 2.152"},{"latitud":"41.403960000000005","longitud":" 2.15191"},{"latitud":"41.40404","longitud":" 2.15185"},{"latitud":"41.40415","longitud":" 2.15178"},{"latitud":"41.405030000000004","longitud":" 2.15105"},{"latitud":"41.405120000000004","longitud":" 2.15098"},{"latitud":"41.40522","longitud":" 2.15089"},{"latitud":"41.40574","longitud":" 2.1504100000000004"},{"latitud":"41.406130000000005","longitud":" 2.15004"},{"latitud":"41.40617","longitud":" 2.15001"},{"latitud":"41.406220000000005","longitud":" 2.14997"},{"latitud":"41.40635","longitud":" 2.1498700000000004"},{"latitud":"41.406490000000005","longitud":" 2.1498000000000004"},{"latitud":"41.406560000000006","longitud":" 2.14977"},{"latitud":"41.406620000000004","longitud":" 2.14974"},{"latitud":"41.406760000000006","longitud":" 2.1497"},{"latitud":"41.40731","longitud":" 2.14955"},{"latitud":"41.40746","longitud":" 2.1495"},{"latitud":"41.407540000000004","longitud":" 2.14948"},{"latitud":"41.40776","longitud":" 2.1493900000000004"},{"latitud":"41.407970000000006","longitud":" 2.14928"},{"latitud":"41.40818","longitud":" 2.14916"},{"latitud":"41.40838","longitud":" 2.14901"},{"latitud":"41.40858","longitud":" 2.1488500000000004"},{"latitud":"41.40876","longitud":" 2.14869"},{"latitud":"41.408910000000006","longitud":" 2.14853"},{"latitud":"41.40968","longitud":" 2.1476900000000003"},{"latitud":"41.409800000000004","longitud":" 2.1475600000000004"},{"latitud":"41.4101","longitud":" 2.1472100000000003"},{"latitud":"41.41038","longitud":" 2.14685"},{"latitud":"41.410560000000004","longitud":" 2.1466100000000004"},{"latitud":"41.41071","longitud":" 2.14642"},{"latitud":"41.411030000000004","longitud":" 2.14601"},{"latitud":"41.411210000000004","longitud":" 2.1457800000000002"},{"latitud":"41.411410000000004","longitud":" 2.1455100000000003"},{"latitud":"41.41154","longitud":" 2.14529"},{"latitud":"41.411590000000004","longitud":" 2.14522"},{"latitud":"41.41165","longitud":" 2.1451100000000003"},{"latitud":"41.4117","longitud":" 2.14501"},{"latitud":"41.411750000000005","longitud":" 2.1449100000000003"},{"latitud":"41.411770000000004","longitud":" 2.14486"},{"latitud":"41.41180000000001","longitud":" 2.1447800000000004"},{"latitud":"41.41198000000001","longitud":" 2.14434"},{"latitud":"41.412180000000006","longitud":" 2.1438"},{"latitud":"41.41226","longitud":" 2.1436200000000003"},{"latitud":"41.4123","longitud":" 2.1435400000000002"},{"latitud":"41.41234","longitud":" 2.14347"},{"latitud":"41.41243","longitud":" 2.1433400000000002"},{"latitud":"41.41252","longitud":" 2.1432200000000003"},{"latitud":"41.41263","longitud":" 2.14312"},{"latitud":"41.41274000000001","longitud":" 2.14304"},{"latitud":"41.41286","longitud":" 2.14297"},{"latitud":"41.41299","longitud":" 2.14292"},{"latitud":"41.413120000000006","longitud":" 2.14289"},{"latitud":"41.413250000000005","longitud":" 2.1428800000000003"},{"latitud":"41.41333","longitud":" 2.1428800000000003"},{"latitud":"41.413430000000005","longitud":" 2.1428800000000003"},{"latitud":"41.413990000000005","longitud":" 2.14298"},{"latitud":"41.41407","longitud":" 2.14299"},{"latitud":"41.41423","longitud":" 2.1430000000000002"},{"latitud":"41.414260000000006","longitud":" 2.1430000000000002"},{"latitud":"41.4144","longitud":" 2.14298"},{"latitud":"41.41454","longitud":" 2.1429500000000004"},{"latitud":"41.41467","longitud":" 2.1429"},{"latitud":"41.41478","longitud":" 2.14285"},{"latitud":"41.41485","longitud":" 2.1428100000000003"},{"latitud":"41.414910000000006","longitud":" 2.14277"},{"latitud":"41.41537","longitud":" 2.14245"},{"latitud":"41.41564","longitud":" 2.14228"},{"latitud":"41.41713","longitud":" 2.1413"},{"latitud":"41.4172","longitud":" 2.1412600000000004"},{"latitud":"41.41731","longitud":" 2.1412"},{"latitud":"41.4174","longitud":" 2.14116"},{"latitud":"41.417460000000005","longitud":" 2.14113"},{"latitud":"41.41762000000001","longitud":" 2.14108"},{"latitud":"41.417680000000004","longitud":" 2.14107"},{"latitud":"41.417790000000004","longitud":" 2.1410500000000003"},{"latitud":"41.41828","longitud":" 2.1409700000000003"},{"latitud":"41.42042","longitud":" 2.1406500000000004"},{"latitud":"41.42061","longitud":" 2.1406400000000003"},{"latitud":"41.420750000000005","longitud":" 2.1406300000000003"},{"latitud":"41.42099","longitud":" 2.1406400000000003"},{"latitud":"41.42123","longitud":" 2.14067"},{"latitud":"41.42146","longitud":" 2.1407100000000003"},{"latitud":"41.4217","longitud":" 2.1407700000000003"},{"latitud":"41.421890000000005","longitud":" 2.1408400000000003"},{"latitud":"41.422050000000006","longitud":" 2.1409000000000002"},{"latitud":"41.42231","longitud":" 2.14103"},{"latitud":"41.422560000000004","longitud":" 2.14116"},{"latitud":"41.423140000000004","longitud":" 2.1415200000000003"},{"latitud":"41.42329","longitud":" 2.14161"},{"latitud":"41.423610000000004","longitud":" 2.1417800000000002"},{"latitud":"41.423860000000005","longitud":" 2.14191"},{"latitud":"41.42528","longitud":" 2.14256"},{"latitud":"41.42537","longitud":" 2.1426100000000003"},{"latitud":"41.425380000000004","longitud":" 2.14256"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.425380000000004","longitud":" 2.14256"},{"latitud":"41.42499","longitud":" 2.14235"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.42499","longitud":" 2.14235"},{"latitud":"41.42499","longitud":" 2.14236"},{"latitud":"41.424820000000004","longitud":" 2.14299"},{"latitud":"41.42459","longitud":" 2.14386"},{"latitud":"41.424510000000005","longitud":" 2.1441700000000004"},{"latitud":"41.42445","longitud":" 2.14439"},{"latitud":"41.424400000000006","longitud":" 2.14452"},{"latitud":"41.42436","longitud":" 2.1446400000000003"},{"latitud":"41.424310000000006","longitud":" 2.14476"},{"latitud":"41.424220000000005","longitud":" 2.14493"},{"latitud":"41.42414","longitud":" 2.14509"},{"latitud":"41.42405","longitud":" 2.14523"},{"latitud":"41.423950000000005","longitud":" 2.14536"},{"latitud":"41.42385","longitud":" 2.14548"},{"latitud":"41.423610000000004","longitud":" 2.1457300000000004"},{"latitud":"41.42334","longitud":" 2.14597"},{"latitud":"41.42315000000001","longitud":" 2.14615"},{"latitud":"41.423","longitud":" 2.14631"},{"latitud":"41.422880000000006","longitud":" 2.14644"},{"latitud":"41.422760000000004","longitud":" 2.14658"},{"latitud":"41.422650000000004","longitud":" 2.1467400000000003"},{"latitud":"41.42255","longitud":" 2.14691"},{"latitud":"41.42249","longitud":" 2.14705"},{"latitud":"41.42242","longitud":" 2.14719"},{"latitud":"41.42237","longitud":" 2.14733"},{"latitud":"41.422340000000005","longitud":" 2.1474200000000003"},{"latitud":"41.422000000000004","longitud":" 2.14835"},{"latitud":"41.42148","longitud":" 2.14975"},{"latitud":"41.42132","longitud":" 2.1502000000000003"},{"latitud":"41.42128","longitud":" 2.1503400000000004"},{"latitud":"41.42123","longitud":" 2.1504800000000004"},{"latitud":"41.42118000000001","longitud":" 2.1506700000000003"},{"latitud":"41.421150000000004","longitud":" 2.1508700000000003"},{"latitud":"41.42112","longitud":" 2.1510700000000003"},{"latitud":"41.42109000000001","longitud":" 2.1512800000000003"},{"latitud":"41.42108","longitud":" 2.1514900000000003"},{"latitud":"41.42108","longitud":" 2.15172"},{"latitud":"41.42109000000001","longitud":" 2.1519500000000003"},{"latitud":"41.4211","longitud":" 2.15218"},{"latitud":"41.421130000000005","longitud":" 2.15241"},{"latitud":"41.42118000000001","longitud":" 2.1526400000000003"},{"latitud":"41.42123","longitud":" 2.1528500000000004"},{"latitud":"41.421290000000006","longitud":" 2.1530500000000004"},{"latitud":"41.42136","longitud":" 2.1532400000000003"},{"latitud":"41.421440000000004","longitud":" 2.15343"},{"latitud":"41.42152","longitud":" 2.15361"},{"latitud":"41.421600000000005","longitud":" 2.15376"},{"latitud":"41.4217","longitud":" 2.15391"},{"latitud":"41.42179","longitud":" 2.1540600000000003"},{"latitud":"41.421910000000004","longitud":" 2.15422"},{"latitud":"41.42204","longitud":" 2.15437"},{"latitud":"41.42219","longitud":" 2.15452"},{"latitud":"41.42235","longitud":" 2.15465"},{"latitud":"41.422520000000006","longitud":" 2.15477"},{"latitud":"41.42268000000001","longitud":" 2.1548700000000003"},{"latitud":"41.42286","longitud":" 2.15496"},{"latitud":"41.422990000000006","longitud":" 2.1550100000000003"},{"latitud":"41.423120000000004","longitud":" 2.15506"},{"latitud":"41.42325","longitud":" 2.1550900000000004"},{"latitud":"41.42338","longitud":" 2.15512"},{"latitud":"41.42351","longitud":" 2.15513"},{"latitud":"41.42353000000001","longitud":" 2.15513"},{"latitud":"41.423550000000006","longitud":" 2.1547300000000003"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.423550000000006","longitud":" 2.1547300000000003"},{"latitud":"41.42365","longitud":" 2.1550100000000003"},{"latitud":"41.423680000000004","longitud":" 2.15498"},{"latitud":"41.423790000000004","longitud":" 2.15517"},{"latitud":"41.42306000000001","longitud":" 2.1558200000000003"},{"latitud":"41.423","longitud":" 2.15587"},{"latitud":"41.422880000000006","longitud":" 2.15598"},{"latitud":"41.42257","longitud":" 2.15628"},{"latitud":"41.42251","longitud":" 2.15633"},{"latitud":"41.422470000000004","longitud":" 2.15625"},{"latitud":"41.422380000000004","longitud":" 2.15607"}]}]],[[{"travel_mode":"WALKING","path":[{"latitud":"41.379690000000004","longitud":" 2.1682"},{"latitud":"41.37970000000001","longitud":" 2.16821"},{"latitud":"41.37970000000001","longitud":" 2.1682200000000003"},{"latitud":"41.37970000000001","longitud":" 2.1682300000000003"},{"latitud":"41.37971","longitud":" 2.1682400000000004"},{"latitud":"41.37971","longitud":" 2.16825"},{"latitud":"41.37971","longitud":" 2.16826"},{"latitud":"41.37971","longitud":" 2.16827"},{"latitud":"41.37971","longitud":" 2.16832"},{"latitud":"41.379780000000004","longitud":" 2.16834"},{"latitud":"41.379810000000006","longitud":" 2.16838"},{"latitud":"41.37982","longitud":" 2.1684200000000002"},{"latitud":"41.37997","longitud":" 2.16886"},{"latitud":"41.38004","longitud":" 2.16913"},{"latitud":"41.38007","longitud":" 2.16923"},{"latitud":"41.380210000000005","longitud":" 2.1697100000000002"},{"latitud":"41.38033","longitud":" 2.1701900000000003"},{"latitud":"41.38036","longitud":" 2.1702600000000003"},{"latitud":"41.38045","longitud":" 2.1704600000000003"},{"latitud":"41.38055000000001","longitud":" 2.1708100000000004"},{"latitud":"41.38058","longitud":" 2.17091"},{"latitud":"41.3806","longitud":" 2.17104"},{"latitud":"41.38073000000001","longitud":" 2.17146"},{"latitud":"41.380810000000004","longitud":" 2.17177"},{"latitud":"41.38083","longitud":" 2.17186"},{"latitud":"41.380840000000006","longitud":" 2.17198"},{"latitud":"41.38085","longitud":" 2.17204"},{"latitud":"41.38087","longitud":" 2.17219"},{"latitud":"41.380900000000004","longitud":" 2.1723000000000003"},{"latitud":"41.380950000000006","longitud":" 2.17247"},{"latitud":"41.381040000000006","longitud":" 2.1726900000000002"},{"latitud":"41.38111000000001","longitud":" 2.17288"},{"latitud":"41.38112","longitud":" 2.1729000000000003"},{"latitud":"41.38118","longitud":" 2.1730400000000003"},{"latitud":"41.381220000000006","longitud":" 2.1731200000000004"},{"latitud":"41.38101","longitud":" 2.17329"},{"latitud":"41.38094","longitud":" 2.17336"},{"latitud":"41.380860000000006","longitud":" 2.17343"},{"latitud":"41.380860000000006","longitud":" 2.1734400000000003"},{"latitud":"41.381150000000005","longitud":" 2.17326"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.381150000000005","longitud":" 2.17326"},{"latitud":"41.38116","longitud":" 2.17328"},{"latitud":"41.38145","longitud":" 2.1730300000000002"},{"latitud":"41.38264","longitud":" 2.172"},{"latitud":"41.38277","longitud":" 2.1718900000000003"},{"latitud":"41.38297","longitud":" 2.1717400000000002"},{"latitud":"41.38309","longitud":" 2.17167"},{"latitud":"41.385020000000004","longitud":" 2.1703900000000003"},{"latitud":"41.3851","longitud":" 2.1703400000000004"},{"latitud":"41.38521","longitud":" 2.1702700000000004"},{"latitud":"41.385360000000006","longitud":" 2.17021"},{"latitud":"41.38552000000001","longitud":" 2.17016"},{"latitud":"41.385600000000004","longitud":" 2.17014"},{"latitud":"41.38571","longitud":" 2.1701200000000003"},{"latitud":"41.385850000000005","longitud":" 2.17011"},{"latitud":"41.386320000000005","longitud":" 2.17009"},{"latitud":"41.38702000000001","longitud":" 2.1700700000000004"},{"latitud":"41.387170000000005","longitud":" 2.1700500000000003"},{"latitud":"41.387330000000006","longitud":" 2.17002"},{"latitud":"41.38749000000001","longitud":" 2.16997"},{"latitud":"41.387570000000004","longitud":" 2.16994"},{"latitud":"41.38759","longitud":" 2.1699300000000004"},{"latitud":"41.38774","longitud":" 2.1698600000000003"},{"latitud":"41.38787000000001","longitud":" 2.1697800000000003"},{"latitud":"41.387950000000004","longitud":" 2.1697200000000003"},{"latitud":"41.388110000000005","longitud":" 2.1696"},{"latitud":"41.388180000000006","longitud":" 2.16953"},{"latitud":"41.38826","longitud":" 2.1694500000000003"},{"latitud":"41.388400000000004","longitud":" 2.1693000000000002"},{"latitud":"41.38843000000001","longitud":" 2.16927"},{"latitud":"41.389700000000005","longitud":" 2.1677"},{"latitud":"41.39025","longitud":" 2.1670200000000004"},{"latitud":"41.391560000000005","longitud":" 2.1653900000000004"},{"latitud":"41.391600000000004","longitud":" 2.16535"},{"latitud":"41.391940000000005","longitud":" 2.16493"},{"latitud":"41.39206","longitud":" 2.16479"},{"latitud":"41.39219000000001","longitud":" 2.1646300000000003"},{"latitud":"41.393170000000005","longitud":" 2.1634100000000003"},{"latitud":"41.395360000000004","longitud":" 2.16069"},{"latitud":"41.39571","longitud":" 2.16026"},{"latitud":"41.39589","longitud":" 2.16005"},{"latitud":"41.3962","longitud":" 2.15966"},{"latitud":"41.39753","longitud":" 2.15801"},{"latitud":"41.39779","longitud":" 2.1577100000000002"},{"latitud":"41.39788","longitud":" 2.1576"},{"latitud":"41.39802","longitud":" 2.1574600000000004"},{"latitud":"41.3984","longitud":" 2.1571100000000003"},{"latitud":"41.39849","longitud":" 2.15702"},{"latitud":"41.39867","longitud":" 2.1568300000000002"},{"latitud":"41.400110000000005","longitud":" 2.15513"},{"latitud":"41.401500000000006","longitud":" 2.1535"},{"latitud":"41.40162","longitud":" 2.1533700000000002"},{"latitud":"41.40176","longitud":" 2.15323"},{"latitud":"41.402010000000004","longitud":" 2.15302"},{"latitud":"41.402280000000005","longitud":" 2.1528"},{"latitud":"41.40236","longitud":" 2.15274"},{"latitud":"41.402530000000006","longitud":" 2.15262"},{"latitud":"41.40258","longitud":" 2.15259"},{"latitud":"41.402710000000006","longitud":" 2.1525100000000004"},{"latitud":"41.402820000000006","longitud":" 2.15246"},{"latitud":"41.40363000000001","longitud":" 2.1520900000000003"},{"latitud":"41.40382","longitud":" 2.152"},{"latitud":"41.403960000000005","longitud":" 2.15191"},{"latitud":"41.40404","longitud":" 2.15185"},{"latitud":"41.40415","longitud":" 2.15178"},{"latitud":"41.405030000000004","longitud":" 2.15105"},{"latitud":"41.405120000000004","longitud":" 2.15098"},{"latitud":"41.40522","longitud":" 2.15089"},{"latitud":"41.40574","longitud":" 2.1504100000000004"},{"latitud":"41.406130000000005","longitud":" 2.15004"},{"latitud":"41.40617","longitud":" 2.15001"},{"latitud":"41.406220000000005","longitud":" 2.14997"},{"latitud":"41.40635","longitud":" 2.1498700000000004"},{"latitud":"41.406490000000005","longitud":" 2.1498000000000004"},{"latitud":"41.406560000000006","longitud":" 2.14977"},{"latitud":"41.406620000000004","longitud":" 2.14974"},{"latitud":"41.406760000000006","longitud":" 2.1497"},{"latitud":"41.40731","longitud":" 2.14955"},{"latitud":"41.40746","longitud":" 2.1495"},{"latitud":"41.407540000000004","longitud":" 2.14948"},{"latitud":"41.40776","longitud":" 2.1493900000000004"},{"latitud":"41.407970000000006","longitud":" 2.14928"},{"latitud":"41.40818","longitud":" 2.14916"},{"latitud":"41.40838","longitud":" 2.14901"},{"latitud":"41.40858","longitud":" 2.1488500000000004"},{"latitud":"41.40876","longitud":" 2.14869"},{"latitud":"41.408910000000006","longitud":" 2.14853"},{"latitud":"41.40968","longitud":" 2.1476900000000003"},{"latitud":"41.409800000000004","longitud":" 2.1475600000000004"},{"latitud":"41.4101","longitud":" 2.1472100000000003"},{"latitud":"41.41038","longitud":" 2.14685"},{"latitud":"41.410560000000004","longitud":" 2.1466100000000004"},{"latitud":"41.41071","longitud":" 2.14642"},{"latitud":"41.411030000000004","longitud":" 2.14601"},{"latitud":"41.411210000000004","longitud":" 2.1457800000000002"},{"latitud":"41.411410000000004","longitud":" 2.1455100000000003"},{"latitud":"41.41154","longitud":" 2.14529"},{"latitud":"41.411590000000004","longitud":" 2.14522"},{"latitud":"41.41165","longitud":" 2.1451100000000003"},{"latitud":"41.4117","longitud":" 2.14501"},{"latitud":"41.411750000000005","longitud":" 2.1449100000000003"},{"latitud":"41.411770000000004","longitud":" 2.14486"},{"latitud":"41.41180000000001","longitud":" 2.1447800000000004"},{"latitud":"41.41198000000001","longitud":" 2.14434"},{"latitud":"41.412180000000006","longitud":" 2.1438"},{"latitud":"41.41226","longitud":" 2.1436200000000003"},{"latitud":"41.4123","longitud":" 2.1435400000000002"},{"latitud":"41.41234","longitud":" 2.14347"},{"latitud":"41.41243","longitud":" 2.1433400000000002"},{"latitud":"41.41252","longitud":" 2.1432200000000003"},{"latitud":"41.41263","longitud":" 2.14312"},{"latitud":"41.41274000000001","longitud":" 2.14304"},{"latitud":"41.41286","longitud":" 2.14297"},{"latitud":"41.41299","longitud":" 2.14292"},{"latitud":"41.413120000000006","longitud":" 2.14289"},{"latitud":"41.413250000000005","longitud":" 2.1428800000000003"},{"latitud":"41.41333","longitud":" 2.1428800000000003"},{"latitud":"41.413430000000005","longitud":" 2.1428800000000003"},{"latitud":"41.413990000000005","longitud":" 2.14298"},{"latitud":"41.41407","longitud":" 2.14299"},{"latitud":"41.41423","longitud":" 2.1430000000000002"},{"latitud":"41.414260000000006","longitud":" 2.1430000000000002"},{"latitud":"41.4144","longitud":" 2.14298"},{"latitud":"41.41454","longitud":" 2.1429500000000004"},{"latitud":"41.41467","longitud":" 2.1429"},{"latitud":"41.41478","longitud":" 2.14285"},{"latitud":"41.41485","longitud":" 2.1428100000000003"},{"latitud":"41.414910000000006","longitud":" 2.14277"},{"latitud":"41.41537","longitud":" 2.14245"},{"latitud":"41.41564","longitud":" 2.14228"},{"latitud":"41.41713","longitud":" 2.1413"},{"latitud":"41.4172","longitud":" 2.1412600000000004"},{"latitud":"41.41731","longitud":" 2.1412"},{"latitud":"41.4174","longitud":" 2.14116"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.4174","longitud":" 2.14116"},{"latitud":"41.417500000000004","longitud":" 2.14127"},{"latitud":"41.41749","longitud":" 2.1411800000000003"},{"latitud":"41.417260000000006","longitud":" 2.1412400000000003"},{"latitud":"41.41723","longitud":" 2.14116"},{"latitud":"41.41731","longitud":" 2.14096"},{"latitud":"41.4174","longitud":" 2.14075"},{"latitud":"41.417460000000005","longitud":" 2.1406"}]}],[{"travel_mode":"TRANSIT","path":[{"latitud":"41.41745","longitud":" 2.14059"},{"latitud":"41.41749","longitud":" 2.1406300000000003"},{"latitud":"41.41743","longitud":" 2.1407800000000003"},{"latitud":"41.41734","longitud":" 2.1409900000000004"},{"latitud":"41.417260000000006","longitud":" 2.1412"},{"latitud":"41.41756","longitud":" 2.1411200000000004"},{"latitud":"41.41774","longitud":" 2.14107"},{"latitud":"41.41778","longitud":" 2.14106"},{"latitud":"41.41832","longitud":" 2.14096"},{"latitud":"41.41837","longitud":" 2.14096"},{"latitud":"41.4185","longitud":" 2.14094"},{"latitud":"41.41866","longitud":" 2.1409200000000004"},{"latitud":"41.41874000000001","longitud":" 2.1409100000000003"},{"latitud":"41.4189","longitud":" 2.14089"},{"latitud":"41.4191","longitud":" 2.14086"},{"latitud":"41.41926","longitud":" 2.1408400000000003"},{"latitud":"41.41944","longitud":" 2.14081"},{"latitud":"41.419540000000005","longitud":" 2.1408"},{"latitud":"41.41975","longitud":" 2.1407700000000003"},{"latitud":"41.419920000000005","longitud":" 2.14074"},{"latitud":"41.420280000000005","longitud":" 2.14069"},{"latitud":"41.42058","longitud":" 2.1406500000000004"},{"latitud":"41.42078","longitud":" 2.14062"},{"latitud":"41.420820000000006","longitud":" 2.14062"},{"latitud":"41.420840000000005","longitud":" 2.14062"},{"latitud":"41.42092","longitud":" 2.14062"},{"latitud":"41.42099","longitud":" 2.1406500000000004"},{"latitud":"41.42100000000001","longitud":" 2.1406500000000004"},{"latitud":"41.421060000000004","longitud":" 2.14068"},{"latitud":"41.42123","longitud":" 2.14075"},{"latitud":"41.42127000000001","longitud":" 2.14089"},{"latitud":"41.4213","longitud":" 2.14096"},{"latitud":"41.421350000000004","longitud":" 2.14115"},{"latitud":"41.421420000000005","longitud":" 2.14137"},{"latitud":"41.421490000000006","longitud":" 2.1415900000000003"},{"latitud":"41.421490000000006","longitud":" 2.14162"},{"latitud":"41.42156000000001","longitud":" 2.14182"},{"latitud":"41.42156000000001","longitud":" 2.14191"},{"latitud":"41.42156000000001","longitud":" 2.14197"},{"latitud":"41.42155","longitud":" 2.14203"},{"latitud":"41.42154","longitud":" 2.1420500000000002"},{"latitud":"41.42152","longitud":" 2.14209"},{"latitud":"41.42148","longitud":" 2.14215"},{"latitud":"41.42116","longitud":" 2.14256"},{"latitud":"41.4209","longitud":" 2.14289"},{"latitud":"41.42067","longitud":" 2.14318"},{"latitud":"41.42063","longitud":" 2.14323"},{"latitud":"41.42078","longitud":" 2.14372"},{"latitud":"41.42105","longitud":" 2.1445600000000002"},{"latitud":"41.42119","longitud":" 2.145"},{"latitud":"41.421260000000004","longitud":" 2.14522"},{"latitud":"41.421290000000006","longitud":" 2.1453100000000003"},{"latitud":"41.42132","longitud":" 2.14542"},{"latitud":"41.42136","longitud":" 2.14555"},{"latitud":"41.42168","longitud":" 2.14652"},{"latitud":"41.42174000000001","longitud":" 2.14671"},{"latitud":"41.42175","longitud":" 2.1467400000000003"},{"latitud":"41.421820000000004","longitud":" 2.14696"},{"latitud":"41.42186","longitud":" 2.1471"},{"latitud":"41.42193","longitud":" 2.1473"},{"latitud":"41.421940000000006","longitud":" 2.14731"},{"latitud":"41.42203000000001","longitud":" 2.1475600000000004"},{"latitud":"41.42217","longitud":" 2.1479700000000004"},{"latitud":"41.42217","longitud":" 2.14798"},{"latitud":"41.42224","longitud":" 2.14819"},{"latitud":"41.422250000000005","longitud":" 2.1482200000000002"},{"latitud":"41.422270000000005","longitud":" 2.1482900000000003"},{"latitud":"41.422290000000004","longitud":" 2.14833"},{"latitud":"41.422320000000006","longitud":" 2.1483600000000003"},{"latitud":"41.422340000000005","longitud":" 2.14838"},{"latitud":"41.42235","longitud":" 2.14839"},{"latitud":"41.42239","longitud":" 2.14841"},{"latitud":"41.422560000000004","longitud":" 2.14848"},{"latitud":"41.42268000000001","longitud":" 2.14853"},{"latitud":"41.422850000000004","longitud":" 2.1486"},{"latitud":"41.42293","longitud":" 2.1486300000000003"},{"latitud":"41.42304","longitud":" 2.1487000000000003"},{"latitud":"41.423210000000005","longitud":" 2.1487800000000004"},{"latitud":"41.42327","longitud":" 2.14881"},{"latitud":"41.42334","longitud":" 2.1488400000000003"},{"latitud":"41.42338","longitud":" 2.14887"},{"latitud":"41.42338","longitud":" 2.14888"},{"latitud":"41.42343","longitud":" 2.14894"},{"latitud":"41.423590000000004","longitud":" 2.1491700000000002"},{"latitud":"41.42362000000001","longitud":" 2.14921"},{"latitud":"41.42374","longitud":" 2.14936"},{"latitud":"41.423880000000004","longitud":" 2.1495100000000003"},{"latitud":"41.424020000000006","longitud":" 2.1496500000000003"},{"latitud":"41.4243","longitud":" 2.1499200000000003"},{"latitud":"41.42437","longitud":" 2.1499900000000003"},{"latitud":"41.42443","longitud":" 2.1500600000000003"},{"latitud":"41.42445","longitud":" 2.15009"},{"latitud":"41.4245","longitud":" 2.15015"},{"latitud":"41.42455","longitud":" 2.15024"},{"latitud":"41.42457","longitud":" 2.1502700000000003"},{"latitud":"41.424600000000005","longitud":" 2.15035"},{"latitud":"41.424730000000004","longitud":" 2.1506800000000004"},{"latitud":"41.424730000000004","longitud":" 2.1507"},{"latitud":"41.42477","longitud":" 2.15086"},{"latitud":"41.424780000000005","longitud":" 2.1510000000000002"},{"latitud":"41.424730000000004","longitud":" 2.15097"},{"latitud":"41.424600000000005","longitud":" 2.15091"},{"latitud":"41.424200000000006","longitud":" 2.1506100000000004"},{"latitud":"41.42416","longitud":" 2.15076"},{"latitud":"41.42414","longitud":" 2.15084"},{"latitud":"41.424060000000004","longitud":" 2.15112"},{"latitud":"41.424040000000005","longitud":" 2.1512200000000004"},{"latitud":"41.423950000000005","longitud":" 2.1515"},{"latitud":"41.423930000000006","longitud":" 2.1515600000000004"},{"latitud":"41.423500000000004","longitud":" 2.1520900000000003"},{"latitud":"41.423230000000004","longitud":" 2.15241"},{"latitud":"41.4232","longitud":" 2.15245"},{"latitud":"41.42327","longitud":" 2.1525600000000003"},{"latitud":"41.423280000000005","longitud":" 2.15259"},{"latitud":"41.423500000000004","longitud":" 2.15293"},{"latitud":"41.423610000000004","longitud":" 2.1531200000000004"},{"latitud":"41.42374","longitud":" 2.15336"},{"latitud":"41.423950000000005","longitud":" 2.15375"},{"latitud":"41.42405","longitud":" 2.15394"},{"latitud":"41.424150000000004","longitud":" 2.1541200000000003"},{"latitud":"41.42416","longitud":" 2.1541400000000004"},{"latitud":"41.424260000000004","longitud":" 2.1543300000000003"},{"latitud":"41.424310000000006","longitud":" 2.1544600000000003"},{"latitud":"41.42439","longitud":" 2.1546800000000004"},{"latitud":"41.424240000000005","longitud":" 2.15482"},{"latitud":"41.423840000000006","longitud":" 2.15518"},{"latitud":"41.4236","longitud":" 2.1554"},{"latitud":"41.42305","longitud":" 2.1558800000000002"},{"latitud":"41.422900000000006","longitud":" 2.1560200000000003"},{"latitud":"41.422560000000004","longitud":" 2.15634"},{"latitud":"41.42235","longitud":" 2.15653"},{"latitud":"41.422340000000005","longitud":" 2.15652"}]}],[{"travel_mode":"WALKING","path":[{"latitud":"41.42233","longitud":" 2.1564900000000002"},{"latitud":"41.42251","longitud":" 2.15633"},{"latitud":"41.422470000000004","longitud":" 2.15625"},{"latitud":"41.422380000000004","longitud":" 2.15607"}]}]]]}'
    df = json.loads(x)
    d = datetime.now()
    timezone1 = pytz.timezone('ETC/GMT')
    timezone2 = pytz.timezone('Europe/Madrid')
    now2 = timezone1.localize(d)
    now = now2.astimezone(timezone2)
    actual_time = now.strftime("%H:00:00")

    
    d_time = df['departure_time']
    current_time = str(d_time['hora'])+":00:00"
    #current_time = "17:00:00"
    start = df['start_location']
    end = df['end_location']
    duration = df['duration']
    steps = df['steps']
    start = start.split()
    end = end.split()
    
    travel_modes = []
    
    tol_lat = 0.001
    tol_lng = 0.001
    densitats_rutes = []
    
    db = sqlalchemy.create_engine('mysql+pymysql://root:ssmm2020@localhost/ssmm_transport')
    
    with db.connect() as conn:
        #q = "INSERT INTO rutas (originlat,originlng,destlat,destlng,hora_sortida,trans_mode,user_id) VALUES ('"+start[0][1:-1]+"','"+start[1][:-1]+"','"+end[0][1:-1]+"','"+end[1][:-1]+"','"+"2000-01-01 "+current_time+"','transit','2');"
        #conn.execute(q)

        q = "SELECT max(hores_tram.densitat) FROM hores_tram WHERE hores_tram.hora = '"+"2000-01-01 "+current_time+"';"
        dens_max = conn.execute(q).fetchall()
        dens_max = dens_max[0]
        if dens_max[0] != None:
            dens_max = dens_max[0]
        else:
            dens_max = 0
        for ruta in steps:
            densitats = []
            for step in ruta:
                travel_modes.append(step[0]['travel_mode'])
                coords = step[0]['path']
                coords = np.array(coords)
                
                densitats_tram = []
                if coords.shape[0]>10:
                    n_trams = int(coords.shape[0]*0.04)
                    if n_trams <10:
                        n_trams = 10
                else:
                    n_trams= coords.shape[0]
                    
                
                espai_tram = int(coords.shape[0]/n_trams)
                #espai_tram = 3
                #print(coords.shape[0],n_trams)
                pre_trams = []
                for i in range(espai_tram-int(espai_tram/2),coords.shape[0],espai_tram):
                    pre_trams.append(coords[i])

                pre_trams=np.array(pre_trams)
                
                for tram in pre_trams:
                    q = "SELECT * FROM tram WHERE"
                    q = q + " tram.lat > "+str(float(tram['latitud'])-tol_lat)
                    q = q + " AND tram.lat <= "+str(float(tram['latitud'])+tol_lat)
                    q = q + " AND tram.lng > "+str(float(tram['longitud'])-tol_lng)
                    q = q + " AND tram.lng <= "+str(float(tram['longitud'])+tol_lng)+" ;"
                    
                    candidates = pd.read_sql(q,con=conn)

                    if candidates.values.shape[0]>0:
                               
                        for cand in candidates.values:
                            q = "SELECT * from hores_tram WHERE hores_tram.tram_id = '"+str(cand[0])+"' AND hores_tram.hora = '"+"2000-01-01 "+current_time+"';"
                            cand_dens = conn.execute(q).fetchall()
                            
                            if (len(cand_dens)>0):
                                cand_dens = cand_dens[0]
                                cand_dens = cand_dens[2]

                                #q = "UPDATE hores_tram SET hores_tram.densitat = '"+str(cand_dens+1)+"' WHERE hores_tram.tram_id = '"+str(cand[0])+"' AND hores_tram.hora = '"+"2000-01-01 "+current_time+"';"
                                #conn.execute(q)
                                
                                if dens_max != 0:
                                    densitats_tram.append(cand_dens/dens_max)
                                else:
                                    densitats_tram.append(0)
                            
                            else:
                                id_insert = cand[0]
                                
                                if dens_max != 0:
                                    densitats_tram.append(1/dens_max)
                                else:
                                    densitats_tram.append(0)
                                
                                #q = "INSERT INTO hores_tram (hora,densitat,tram_id) VALUES ('"+"2000-01-01 "+current_time+"','"+str(1)+"','"+str(id_insert)+"');"
                                #conn.execute(q)
                            
                            
                    else:
                        
                        #q = "INSERT INTO tram (lat,lng) VALUES ('"+str(tram['latitud'])+"','"+str(tram['longitud'])+"');"
                        #conn.execute(q)
                        #q = "SELECT LAST_INSERT_ID();"
                        #id_insert = conn.execute(q).fetchall()
                        
                        if dens_max != 0:
                            densitats_tram.append(1/dens_max)
                        else:
                            densitats_tram.append(0)
                        
                        #q = "INSERT INTO hores_tram (hora,densitat,tram_id) VALUES ('"+"2000-01-01 "+current_time+"','"+str(1)+"','"+str(id_insert[0][0])+"');"
                        #conn.execute(q)
                        
                        
                
                dens_tram_avg = np.average(np.array(densitats_tram))
                densitats.append(dens_tram_avg)
        
            densitats_rutes.append(densitats)
        
        # 0 - 0.2 / 0.21-0.5 / 0.51-0.8 / 0.81 - 1
        dens_final = []
        for ruta in densitats_rutes:
            dens_tram_final = []
            print("[")
            for dens_tram in ruta:
                print("[")
                print(dens_tram)
                print("]")
                if dens_tram <= 0.10:
                    dens_tram_final.append(0)
                elif dens_tram <= 0.4:
                    dens_tram_final.append(1)
                elif dens_tram <= 0.8:
                    dens_tram_final.append(2)
                elif not np.isnan(dens_tram):
                    dens_tram_final.append(3)
                else:
                    dens_tram_final.append(0)
            dens_final.append(dens_tram_final)
            print("]")
        j = 0        
        ruta_count = 0
        out = '{'
        for densitats in dens_final:
            out = out +'"densitats'+str(ruta_count)+'": ['
            j = 0     
            for d in densitats:
                out = out +'{"'+ str(j)+'": '
                out = out + '"'+str(d)
                out = out + '"},'
                j = j + 1
            ruta_count = ruta_count +1 
            out = out[:-1] + "],"
        out = out[:-1] + '}'
    return out

out = get_dens([0])
print(out)